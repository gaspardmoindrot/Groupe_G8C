<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Etat de l'art - Groupe G8C</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="node_modules/chart.js/dist/Chart.js"></script>
</head>
<body>
	<h1>Factorisation de nombre entier en facteur premier</h1>
	<h2>1- Donn√©es</h2>
	<tr>
		<td> u<sub>0</sub> = </td>
		<td><input type="text" id="u0" name="u0" value="0"></td>
	</tr><br />
	<tr>
		<td>u<sub>1</sub> = </td>
		<td><input type="text" id="u1" name="u1" value="0"></td>
	</tr><br />
	<tr>
                <td>u<sub>2</sub> = </td>
                <td><input type="text" id="u2" name="u2" value="0"></td>
        </tr><br />
	<tr>
                <td>u<sub>3</sub> = </td>
                <td><input type="text" id="u3" name="u3" value="0"></td>
        </tr><br />
	<tr>
		<button style="width:350px;" type="button" onclick="division();">Calculer</button>
	</tr>

	<h2>2- Resultat de la factorisation en nombre premier</h2>
	<div>u0 : <span id='h0'></span></div>
	<div>u1 : <span id='h1'></span></div>
	<div>u2 : <span id='h2'></span></div>
        <div>u3 : <span id='h3'></span></div>

	<h2>3- Graphique</h2>
	<canvas id="graph1"></canvas>
</body>
</html>

<script>
	function racineC(nb) {
		var racine = 1;
		
		while (racine * racine <= nb) {
			racine++;
		}
		return (racine);
	}

	function division1(uS, hS) {
		var u = document.getElementById(uS).value;
		var h = document.getElementById(hS);
		var n = 2;
		var r;

                h.textContent = '';
                if (u < 0) {
                        h.textContent = '0';
                } else if (u <= 1) {
                        h.textContent = '1';
                }
                while (u > 1) {
			r = racineC(u);
                        while (n <= r) {
                                if (u % n == 0) {
                                        u = u / n;
                                        h.textContent += (n + ' * ');
                                        break;
                                }
                                n++;
                        }
			if (n > r) {
				h.textContent += (u + ' * ');
				break;
			}
                }
		if (document.getElementById(uS).value > 1)
                	h.textContent = h.textContent.substring(0, h.textContent.length - 2);
	}

	function division() {
		division1('u0', 'h0');
		division1('u1', 'h1');
		division1('u2', 'h2');
		division1('u3', 'h3');
	}
</script>

<script>
	var ctx = document.getElementById('graph1').getContext('2d')
	var data = {
		labels: ['u0', 'u1', 'u2', 'u3'],
		datasets: [{
			backgroundColor: '#41A498',
			label: 'Division successive',
			data: [10, 30, 20, 50]
		},{
			backgroundColor: '#4B834E',
			label: 'Rho',
                        data: [4, 40, 60, 10]
                },{
			backgroundColor: '#B4C757',
			label: 'Fermat',
                        data: [20, 40, 4.7, 2000000000000]
                }]
	}
	var options = {
		scales: {
            		yAxes: [{
                		type: 'logarithmic'
			}]
        	}
	}
	var config = {
		type: 'bar',
		data: data,
		options: options
	}
	var graph1 = new Chart(ctx, config)
</script>
